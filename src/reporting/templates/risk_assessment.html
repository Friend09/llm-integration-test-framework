{% extends "base.html" %}

{% block content %}
<div class="section risk-assessment">
    <h2>Risk Assessment</h2>

    <div class="overall-risk">
        <h3>Overall Risk Level</h3>
        <div class="risk-level {{ data.overall_risk_level.lower() }}">
            {{ data.overall_risk_level }}
        </div>
    </div>

    <div class="risk-factors">
        <h3>Risk Factors</h3>
        <ul class="risk-list">
            {% for factor in data.risk_factors %}
            <li class="risk-factor">
                <span class="risk-name">{{ factor.name }}</span>
                <span class="risk-level {{ factor.level.lower() }}">{{ factor.level }}</span>
                <p class="risk-description">{{ factor.description }}</p>
            </li>
            {% endfor %}
        </ul>
    </div>

    <div class="key-concerns">
        <h3>Key Concerns</h3>
        <ul>
            {% for concern in data.key_concerns %}
            <li>{{ concern }}</li>
            {% endfor %}
        </ul>
    </div>

    <div class="mitigation-strategies">
        <h3>Mitigation Strategies</h3>
        <ul>
            {% for strategy in data.mitigation_strategies %}
            <li>
                <strong>{{ strategy.name }}</strong>
                <p>{{ strategy.description }}</p>
            </li>
            {% endfor %}
        </ul>
    </div>
</div>

<style>
.risk-assessment {
    padding: 20px;
}

.overall-risk {
    margin-bottom: 30px;
    text-align: center;
}

.risk-level {
    display: inline-block;
    padding: 8px 16px;
    border-radius: 4px;
    font-weight: bold;
    color: white;
}

.risk-level.high {
    background-color: #dc3545;
}

.risk-level.medium {
    background-color: #ffc107;
}

.risk-level.low {
    background-color: #28a745;
}

.risk-list {
    list-style: none;
    padding: 0;
}

.risk-factor {
    margin-bottom: 20px;
    padding: 15px;
    border: 1px solid #ddd;
    border-radius: 4px;
}

.risk-name {
    font-weight: bold;
    margin-right: 10px;
}

.risk-description {
    margin-top: 10px;
    color: #666;
}

.key-concerns, .mitigation-strategies {
    margin-top: 30px;
}
</style>
{% endblock %}
